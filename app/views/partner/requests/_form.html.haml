/ views/partner/requests/_form.html.haml

= bootstrap_form_for(@request) do |f|

  - if @business
    = f.hidden_field :business_id, value: @business.id
  - else 
    = f.select :business_id, Business.all.map{|_| [_.name, _.id]}, 
    prompt: "#{t('forms.select')} #{tm(:business)}..."
    
  - if @partner
    = f.hidden_field :partner_id, value: @partner.id
  - else 
    = f.select :partner_id, Partner.all.map{|_| [_.title, _.id]}, 
    prompt: "#{t('forms.select')} #{tm(:partner)}..."
  
  = f.text_field :subject, placeholder: "Subject"
  
  = f.hidden_field :body_xs_was, value: @request.body_xs
  
  = f.hidden_field :body_was, value: @request.body
  
  .hidden-sm-up= f.text_area :body_xs, placeholder: "Body"
  
  %fieldset.form-group.bootsy.hidden-xs-down
    %label{for: :partner_request_body}= han('partner/request', :body)
    = f.bootsy_area :body, class: 'form-control', placeholder: "Body"
  
  = f.select :channel, Partner::Request.channels.keys.map{|_| [_.humanize, _]}, 
    :prompt => "#{t('forms.select')} #{han('partner/request', :channel)}..."
  
  = f.date_field :sent_at
  
  = f.text_field :state, placeholder: "State"
  
  = f.select :user_id, User.all.map{|_| [_.username, _.id]},
    prompt: "Select Owner..."
  
  = f.hidden_field :state_updated_by, value: current_user.id
  
  = f.primary